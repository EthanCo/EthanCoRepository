# 内存泄露 #
## 内存的分配策略 ##
### 静态存储区（方法区） ###
- 内存在编译软件的时候已经分配好，这块内存在程序整个运行过程都存在。
- 主要存放静态数据，全局static数据和常量
### 栈区 ###
- 在执行函数时，函数内局部变量的存储单元都可以在栈上创建，函数执行结束时，这些存储单元自动内释放。
- 效率很高，但分配的内存容量有限。
### 堆区 ###
- 程序在运行的时候用malloc或new申请任意大小的内存，程序员自己负责在适当的时候用free或delete释放内存（Java则依赖垃圾回收器）。


### 堆和栈的区别 ###
- 在函数中(说明是局部变量)，定义的一些基本类型的变量和对象的引用变量都是在函数的栈内存中分配。
- 堆内存用于存放所有由new创建的对象（内容包括该对象其中的所有成员变量）和数组。
- 对于堆，频繁的new/delete会造成大量内存碎片，使程序效率降低。对于栈，它是先进后出的队列，进出一一对应，不产生碎片，运行效率稳定高。

### 结论 ###
- 局部变量的基本数据类型和引用存储于栈中，引用的对象实体存储于堆中。
- 成员变量全部存储与堆中（包括基本数据类型，引用和引用的对象实体）

### 内存泄露需要关注的是什么？###

我们这里说的内存泄露，是针对，也只针对堆内存，他们存放的就是引用指向的对象实体。